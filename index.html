<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Тест совместимости</title>
<style>
body { font-family: Arial, sans-serif; background: #f0f4f8; margin:0; padding:0; }
.container { max-width: 800px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
h1 { text-align: center; margin-bottom: 20px; }
.question { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 15px; background: #f9f9f9; }
.options label { display: block; margin: 5px 0; cursor: pointer; }
button { background: #007bff; color: #fff; border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-size: 16px; }
button:hover { background: #0056b3; }
.result { margin-top: 30px; padding: 20px; background: #e9f5ff; border-radius: 15px; }
.bar-container { background: #ddd; border-radius: 8px; height: 12px; margin-top: 5px; overflow: hidden; }
.bar { height: 12px; background: linear-gradient(90deg, #4ade80, #3b82f6); }
</style>
</head>
<body>
<div class="container">
<h1>Тест совместимости</h1>
<form id="testForm"></form>
<div id="result" class="result" style="display:none;"></div>
</div>

<script>
// Эталонные ответы (20 шт.)
const referenceAnswers = [
 "A","A","B","A","C",
 "B","A","B","A","B",
 "C","A","A","B","C",
 "A","B","C","C","A"
];

// Пул вопросов (50 штук, укороченный пример)
const questionPool = [
 "Мне нравится пробовать новые виды деятельности",
 "Я люблю читать книги или статьи, которые заставляют задуматься",
 "Я легко воспринимаю новые идеи и изменения",
 "Мне интересно изучать другие культуры",
 "Я люблю обсуждать абстрактные темы",
 "Я ценю искусство и творчество",
 "Мне нравится экспериментировать с новыми подходами",
 "Я быстро осваиваю новые навыки",
 "Я предпочитаю разнообразие в жизни",
 "Мне нравится выходить из зоны комфорта",
 "Я обычно довожу начатые дела до конца",
 "Я заранее планирую свои действия",
 "Мне важно соблюдать порядок",
 "Я стараюсь выполнять обещания",
 "Я редко опаздываю",
 "Я предпочитаю действовать по плану",
 "Я умею концентрироваться на задаче",
 "Я редко откладываю дела на потом",
 "Мне нравится систематизировать информацию",
 "Я несу ответственность за свои действия",
 "Мне нравится общаться с новыми людьми",
 "Я чувствую себя уверенно в центре внимания",
 "Я получаю энергию от общения",
 "Мне нравится быть частью команды",
 "Я люблю участвовать в мероприятиях",
 "Я часто делюсь своими эмоциями",
 "Мне нравится активно выражать мысли",
 "Я легко завожу новые знакомства",
 "Я предпочитаю активный отдых",
 "Я люблю командные игры",
 "Я стараюсь помогать другим людям",
 "Я легко иду на компромисс",
 "Мне важно, чтобы окружающие чувствовали себя хорошо",
 "Я умею слушать других",
 "Я стараюсь избегать конфликтов",
 "Я доверяю людям",
 "Я люблю заботиться о близких",
 "Я умею прощать ошибки других",
 "Я стараюсь быть вежливым и тактичным",
 "Я ценю дружеские отношения",
 "Я сохраняю спокойствие в стрессовых ситуациях",
 "Я редко раздражаюсь по пустякам",
 "Я умею контролировать свои эмоции",
 "Я не поддаюсь панике",
 "Я быстро прихожу в норму после неудач",
 "Я не принимаю всё близко к сердцу",
 "Я сохраняю хладнокровие в конфликте",
 "Я не зацикливаюсь на проблемах",
 "Я редко испытываю стресс",
 "Я умею сохранять внутренний баланс"
];

// Берём первые 20 вопросов (можно сделать случайный выбор)
let selectedQuestions = questionPool.slice(0,20);

const form = document.getElementById('testForm');
const resultDiv = document.getElementById('result');

// Отображаем вопросы
selectedQuestions.forEach((q,i)=>{
  const div = document.createElement('div');
  div.className='question';
  div.innerHTML = `<p>${i+1}. ${q}</p>`;
  const optionsDiv = document.createElement('div');
  optionsDiv.className='options';
  ['A) Согласен','B) Иногда','C) Не согласен'].forEach(opt=>{
    const label = document.createElement('label');
    label.innerHTML = `<input type='radio' name='q${i}' value='${opt[0]}' required> ${opt}`;
    optionsDiv.appendChild(label);
  });
  div.appendChild(optionsDiv);
  form.appendChild(div);
});

const submitBtn = document.createElement('button');
submitBtn.textContent='Посчитать совместимость';
form.appendChild(submitBtn);

// Проверка результатов
form.addEventListener('submit',function(e){
  e.preventDefault();
  let userAnswers=[];
  selectedQuestions.forEach((q,i)=>{
    userAnswers.push(form['q'+i].value);
  });

  // Подсчёт совпадений
  let matches=0;
  for(let i=0;i<referenceAnswers.length;i++){
    if(userAnswers[i]===referenceAnswers[i]) matches++;
  }
  const percent=Math.round((matches/referenceAnswers.length)*100);
  let verdict=percent>=75?'Подходят ✅':percent>=50?'Спорно ⚠️':'Не подходят ❌';

  resultDiv.style.display='block';
  resultDiv.innerHTML=`<h2>Совместимость: ${percent}% — ${verdict}</h2>
  <p>Совпадений: ${matches} из ${referenceAnswers.length}</p>`;
});
</script>
</body>
</html>
